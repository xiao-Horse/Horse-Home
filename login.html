<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>login</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <!-- 引入初始化文件 -->
    <link rel="stylesheet" href="./css/base.css">
    <!-- 公共样式表 -->
    <link rel="stylesheet" href="./css/common.css">
    <!-- 引入login登录样式表 -->
    <link rel="stylesheet" href="./css/login.css">
</head>

<body>
    <!-- 头部模块开始 -->
    <header>
        <div class="xtx-main-nav container">
            <div class="logo">
                <h1><a href="./index.html" title="小兔鲜">小兔鲜</a></h1>
            </div>
            <div class="go">
                <a href="index.html">进入网站首页</a><i>>></i>
            </div>
        </div>
    </header>
    <!-- 头部模块结束 -->
    <!-- 登录模块开始 -->
    <div class="center">
        <div class="login">
            <div class="login-one">
                <span class="xz">账号登录</span>
                <span>二维码登录</span>
            </div>
            <form action="index.html">
                <div class="login-two">
                    <a href="#">手机验证码登录</a>
                </div>
                <div class="login-three">
                    <div class="login-three-one">
                        <i></i>
                        <input type="text" placeholder="请输入用户名称/手机号码" name="uname">
                    </div>
                    <span></span>
                </div>
                <div class="login-three">
                    <div class="login-three-one">
                        <i></i>
                        <input type="text" placeholder="请输入密码" name="password">
                    </div>
                    <span></span>
                </div>
                <div class="login-four">
                    <input type="checkbox">
                    <span>我已同意<a href="#">《服务条款》</a>和<a href="#">《服务条款》</a></span>
                </div>
                <button class="submit">登 录</button>
            </form>
            <div class="login-five">
                <span><a href="#">忘记密码?</a></span>
                <span><a href="#">免费注册</a></span>
            </div>
        </div>
    </div>
    <!-- 登录模块结束 -->
    <!-- 底部模块开始 -->
    <footer>
        <!-- 底部尾模块开始 -->
        <div class="footer-bd">
            <div class="xtx-copyright">
                <p>
                    <a href="#">关于我们</a> |
                    <a href="#">帮助中心</a> |
                    <a href="#">售后服务</a> |
                    <a href="#">配送与验收</a> |
                    <a href="#">商务合作</a> |
                    <a href="#">搜索推荐</a> |
                    <a href="#">友情链接</a>
                </p>
                <p>CopyRight @ 小兔鲜儿</p>
            </div>
        </div>
        <!-- 底部尾模块结束 -->

    </footer>
    <!-- 底部模块结束 -->

    <script>
        //  需求
        // 1. 登录按钮点击的时候，需要先判断
        // 如果没有勾选同意，则提示要勾选
        // 如果勾选协议，则记住用户名和密码
        // 登录成功则跳转到首页
        // 注意，登录按钮需要先阻止默认行为
        let submit = document.querySelector('.submit');
        let checkbox = document.querySelector('[type="checkbox"]');
        let uname = document.querySelector('[name=uname]');
        let password = document.querySelector('[name=password]');
        submit.addEventListener('click', function (e) {
            // 为了防止form表单自动跳转，先阻止默认行为
            e.preventDefault();
            // 如果复选框未勾选，就弹出警示框
            if (!checkbox.checked) {
                alert('请勾选用户协议');
                return
            }
            let obj = {
                uname: uname.value,
                password: password.value
            }
            // 把数据存到本地存储里面
            localStorage.setItem('obj', JSON.stringify(obj));
            // 点击后跳转到主页
            location.href = './index.html';
        })

        // 2. 打开页面时候。如果本地存储有数据，则自动记录显示用户名和密码，并勾选复选框
        // 拿到本地存储里面的数据
        let obj = JSON.parse(localStorage.getItem('obj'));
        if (obj) {
            uname.value = obj.uname;
            password.value = obj.password;
            checkbox.checked = 'ture';

        }
    </script>
</body>

</html>